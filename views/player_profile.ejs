<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= player.name %> - Player Profile</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/style.css">
</head>
<body class="bg-blue-50 text-gray-800 leading-relaxed">
  <%- include('_header') %>

  <main class="container mx-auto mt-8 p-4 md:px-8">
    <div class="main-content-background"></div>

    <section class="bg-white rounded-lg shadow-xl p-6 mb-8 border-t-4 border-blue-600">
      <div class="flex items-center gap-6 mb-6">
        <div class="w-20 h-24 bg-blue-700 text-white text-3xl rounded-b-lg flex items-center justify-center font-bold">
          <%= player.shirt_number %>
        </div>
        <div>
          <h2 class="text-3xl font-bold text-blue-800"><%= player.name %></h2>
<% if (user.role === 'coach') { %>
  <a href="/players/<%= player.id %>/edit" class="text-sm text-yellow-600 hover:underline ml-2">Edit</a>
<% } %>
          <p class="text-sm text-gray-600">Positions: <%= player.positions.join(', ') %></p>
          <% if (parents.length > 0) { %>
            <p class="text-sm text-gray-500">Parents: <%= parents.map(p => p.username).join(', ') %></p>
          <% } %>
        </div>
      </div>

      <h3 class="text-2xl font-semibold text-blue-700 mb-3">Stats</h3>
      <table class="w-full text-sm table-auto bg-gray-100 rounded">
        <tbody>
          <tr><td class="font-semibold py-2 px-4">Goals</td><td><%= stats?.goals || 0 %></td></tr>
          <tr><td class="font-semibold py-2 px-4">Assists</td><td><%= stats?.assists || 0 %></td></tr>
          <tr><td class="font-semibold py-2 px-4">Minutes</td><td><%= stats?.minutes || 0 %></td></tr>
          <tr><td class="font-semibold py-2 px-4">Appearances</td><td><%= stats?.appearances || 0 %></td></tr>
          <tr><td class="font-semibold py-2 px-4">Yellow Cards</td><td><%= stats?.yellow_cards || 0 %></td></tr>
          <tr><td class="font-semibold py-2 px-4">Red Cards</td><td><%= stats?.red_cards || 0 %></td></tr>
        </tbody>
      </table>
    </section>
  </main>

  <footer class="bg-gray-900 text-gray-300 p-6 mt-12">
    <div class="container mx-auto text-center text-sm">
      &copy; <%= new Date().getFullYear() %> Spirit of Youth Phoenix. All rights reserved.
    </div>
  </footer>
</body>
</html>
